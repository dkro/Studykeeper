<h2 class="management--all__heading">Alle User</h2>

<button class="btn btn-primary management--all__createButton" {{bind-attr disabled=isCreateLoading}} {{action 'createUser'}}>
    {{#if isCreateLoading}}
        {{loading-status additionalClassNames="loading__config--create"}}
    {{else}}
        User erstellen
    {{/if}}
</button>

{{#if statusMessage}}
    {{status-message message=statusMessage.message isSuccess=statusMessage.isSuccess additionalClassNames="management--all__statusMessage"}}
{{/if}}

<div class="table-responsive management--all__table">
    <table class="table table-hover">
        <thead>
            <tr>
                <th>
                    {{custom-select values=roles currentSelected=roleFilter}}
                </th>
                <th>
                    {{input action="filterUsers" click="wayne" type="text" value=userNameFilter classNames="form-control input-sm" placeholder="Filter User"}}
                </th>
                <th>
                    {{input action="filterUsers" type="text" value=firstNameFilter classNames="form-control input-sm" placeholder="Filter Vorname"}}
                </th>
                <th>
                    {{input action="filterUsers" type="text" value=lastNameFilter classNames="form-control input-sm" placeholder="Filter Nachname"}}
                </th>
                <th>
                    {{custom-select values=mmiFilterOptions currentSelected=mmiFilter}}
                </th>
                <th>
                    {{#if isLoading}}
                        <span class="glyphicon glyphicon-refresh"></span>
                    {{/if}}
                </th>
            </tr>
            <tr>
                <th>Rolle</th>
                <th>User</th>
                <th>Vorname</th>
                <th>Nachname</th>
                <th>MMI-Punkte</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {{#if isTableLoading}}
                <tr>
                    <td class="loading__wrapper--table" colspan="6">
                        {{loading-status additionalClassNames="loading--table"}}
                    </td>
                </tr>
            {{else}}
                {{#if usersList}}
                    {{#each user in usersList}}
                        <tr class="management--all__row" {{action 'showUserConfig' user}}>
                            <td>{{toGermanRole user.role}}</td>
                            <td>{{user.username}}</td>
                            <td>{{user.firstname}}</td>
                            <td>{{user.lastname}}</td>
                            <td>{{user.mmi}}</td>
                            <td><span class="glyphicon glyphicon-remove management--all__deleteIcon" {{action 'deleteUser' user}}></span></td>
                        </tr>
                    {{/each}}
                {{else}}
                    <tr>
                        <td class="management--all__emptyFilter" colspan="6">- Keine Ergebnisse -</td>
                    </tr>
                {{/if}}
            {{/if}}
        </tbody>
    </table>
</div>